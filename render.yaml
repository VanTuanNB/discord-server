version: 1
services:
    - type: web
      name: bun-app
      env: .env
      runtime: docker
      dockerCommand: "bash -c "bun run dist/index.js"
      dockerfilePath: "./Dockerfile"
      startCommand: bash -c "bun run start"
      buildCommand: docker build -t discord-prod-container --target production --build-arg NODE_ENV=production .
      healthCheckPath: /
      envVars:
          - key: NODE_ENV
            value: production
          - key: PORT
            value: production
      port:
          - 5001:5000
