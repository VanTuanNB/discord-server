version: 1
services:
    - type: web
      name: bun-app
      env: .env.development
      startCommand: bun run dev
      buildCommand: docker build -t discord-dev-container --target development --build-arg NODE_ENV=development .
      buildPath: .
      envVars:
          - key: NODE_ENV
            value: development
      volumes:
          - localPath: ./
            renderPath: /usr/src/app
          - localPath: /usr/src/app/node_modules
            renderPath: /usr/src/app/node_modules
      ports:
          - port: 5000
            servicePort: 5000
